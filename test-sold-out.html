<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sold Out Functionality Test</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .test-header {
            text-align: center;
            margin-bottom: 30px;
        }
        .test-header h1 {
            color: #333;
            margin-bottom: 10px;
        }
        .test-header p {
            color: #666;
            font-size: 16px;
        }
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .test-controls {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .test-controls h3 {
            margin-top: 0;
            color: #333;
        }
        .control-group {
            margin-bottom: 15px;
        }
        .control-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #555;
        }
        .control-group select, .control-group input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        .control-group button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
        }
        .control-group button:hover {
            background: #0056b3;
        }
        .status-info {
            background: #e9ecef;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
        }
        .status-info h4 {
            margin-top: 0;
            color: #495057;
        }
        .status-item {
            margin-bottom: 5px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>Sold Out Functionality Test</h1>
            <p>Test the sold out functionality for product cards. Use the controls below to change product states.</p>
        </div>

        <div class="test-controls">
            <h3>Test Controls</h3>
            
            <div class="control-group">
                <label for="product-select">Select Product:</label>
                <select id="product-select">
                    <option value="1">Product 1 (In Stock - 5 items)</option>
                    <option value="2">Product 2 (Sold Out - 0 items)</option>
                    <option value="3">Product 3 (Low Stock - 3 items)</option>
                    <option value="4">Product 4 (In Stock - 8 items)</option>
                    <option value="5">Product 5 (Sold Out - 0 items)</option>
                    <option value="6">Product 6 (Low Stock - 2 items)</option>
                    <option value="7">Product 7 (In Stock - 10 items)</option>
                    <option value="8">Product 8 (Low Stock - 1 item)</option>
                </select>
            </div>

            <div class="control-group">
                <label for="stock-input">Set Stock Level:</label>
                <input type="number" id="stock-input" min="0" max="100" value="5">
            </div>

            <div class="control-group">
                <button onclick="updateProductStock()">Update Stock</button>
                <button onclick="setSoldOut()">Set Sold Out</button>
                <button onclick="setAvailable()">Set Available</button>
                <button onclick="resetAll()">Reset All</button>
            </div>

            <div class="status-info">
                <h4>Current Status:</h4>
                <div id="status-display">
                    <div class="status-item">Available Products: <span id="available-count">6</span></div>
                    <div class="status-item">Sold Out Products: <span id="sold-out-count">2</span></div>
                    <div class="status-item">Low Stock Products: <span id="low-stock-count">3</span></div>
                </div>
            </div>
        </div>

        <div class="product-grid" id="product-grid">
            <!-- Product 1 -->
            <div class="product-card" data-product-id="1" data-product-stock="5" data-product-available="true">
                <div class="product-image">
                    <div class="image-slider">
                        <img src="img/sawiro/23.jpg" alt="Product 1" class="active" data-color="default">
                    </div>
                    <button class="heart-button" data-product-id="1">
                        <i class="fas fa-heart"></i>
                    </button>
                    <div class="product-actions">
                        <button class="quick-view" data-product-id="1">Quick View</button>
                        <button class="add-to-bag" data-product-id="1">Add To Bag</button>
                    </div>
                </div>
                <div class="product-info">
                    <div class="color-options">
                        <span class="color-circle active" style="background-color: #96e0f3ff;" title="Default" data-color="default"></span>
                    </div>
                    <h3 class="product-name">Test Product 1</h3>
                    <div class="product-price">$25</div>
                    <div class="product-availability" style="display: none;">In Stock</div>
                </div>
            </div>

            <!-- Product 2 - SOLD OUT -->
            <div class="product-card sold-out" data-product-id="2" data-product-stock="0" data-product-available="false">
                <div class="product-image">
                    <div class="image-slider">
                        <img src="img/sawiro/24.jpg" alt="Product 2" class="active" data-color="default">
                    </div>
                    <button class="heart-button" data-product-id="2">
                        <i class="fas fa-heart"></i>
                    </button>
                    <div class="product-actions">
                        <button class="quick-view" data-product-id="2">Quick View</button>
                        <button class="add-to-bag sold-out-btn" disabled>Sold Out</button>
                    </div>
                </div>
                <div class="product-info">
                    <div class="color-options">
                        <span class="color-circle active" style="background-color:#060606ff;" title="Default" data-color="default"></span>
                    </div>
                    <h3 class="product-name">Test Product 2</h3>
                    <div class="product-price">$30</div>
                    <div class="product-availability sold-out-text">SOLD OUT</div>
                </div>
            </div>

            <!-- Product 3 - Low Stock -->
            <div class="product-card" data-product-id="3" data-product-stock="3" data-product-available="true">
                <div class="product-image">
                    <div class="image-slider">
                        <img src="img/sawiro/20.webp" alt="Product 3" class="active" data-color="default">
                    </div>
                    <button class="heart-button" data-product-id="3">
                        <i class="fas fa-heart"></i>
                    </button>
                    <div class="product-actions">
                        <button class="quick-view" data-product-id="3">Quick View</button>
                        <button class="add-to-bag" data-product-id="3">Add To Bag</button>
                    </div>
                </div>
                <div class="product-info">
                    <div class="color-options">
                        <span class="color-circle active" style="background-color: #000;" title="Default" data-color="default"></span>
                    </div>
                    <h3 class="product-name">Test Product 3</h3>
                    <div class="product-price">$28</div>
                    <div class="product-availability" style="display: none;">In Stock</div>
                </div>
            </div>

            <!-- Product 4 -->
            <div class="product-card" data-product-id="4" data-product-stock="8" data-product-available="true">
                <div class="product-image">
                    <div class="image-slider">
                        <img src="img/sawiro/barca.jpg" alt="Product 4" class="active" data-color="default">
                    </div>
                    <button class="heart-button" data-product-id="4">
                        <i class="fas fa-heart"></i>
                    </button>
                    <div class="product-actions">
                        <button class="quick-view" data-product-id="4">Quick View</button>
                        <button class="add-to-bag" data-product-id="4">Add To Bag</button>
                    </div>
                </div>
                <div class="product-info">
                    <div class="color-options">
                        <span class="color-circle active" style="background-color: #001f3f;" title="Default" data-color="default"></span>
                    </div>
                    <h3 class="product-name">Test Product 4</h3>
                    <div class="product-price">$35</div>
                    <div class="product-availability" style="display: none;">In Stock</div>
                </div>
            </div>

            <!-- Product 5 - SOLD OUT -->
            <div class="product-card sold-out" data-product-id="5" data-product-stock="0" data-product-available="false">
                <div class="product-image">
                    <div class="image-slider">
                        <img src="img/sawiro/glas2.jpg" alt="Product 5" class="active" data-color="maroon">
                    </div>
                    <button class="heart-button" data-product-id="5">
                        <i class="fas fa-heart"></i>
                    </button>
                    <div class="product-actions">
                        <button class="quick-view" data-product-id="5">Quick View</button>
                        <button class="add-to-bag sold-out-btn" disabled>Sold Out</button>
                    </div>
                </div>
                <div class="product-info">
                    <div class="color-options">
                        <span class="color-circle active" style="background-color: #8B0000;" title="Maroon" data-color="maroon"></span>
                    </div>
                    <h3 class="product-name">Test Product 5</h3>
                    <div class="product-price">$45</div>
                    <div class="product-availability sold-out-text">SOLD OUT</div>
                </div>
            </div>

            <!-- Product 6 - Low Stock -->
            <div class="product-card" data-product-id="6" data-product-stock="2" data-product-available="true">
                <div class="product-image">
                    <div class="image-slider">
                        <img src="img/sawiro/handbag2.jpg" alt="Product 6" class="active" data-color="default">
                    </div>
                    <button class="heart-button" data-product-id="6">
                        <i class="fas fa-heart"></i>
                    </button>
                    <div class="product-actions">
                        <button class="quick-view" data-product-id="6">Quick View</button>
                        <button class="add-to-bag" data-product-id="6">Add To Bag</button>
                    </div>
                </div>
                <div class="product-info">
                    <div class="color-options">
                        <span class="color-circle active" style="background-color: #ffffffff;" title="Default" data-color="default"></span>
                    </div>
                    <h3 class="product-name">Test Product 6</h3>
                    <div class="product-price">$55</div>
                    <div class="product-availability" style="display: none;">In Stock</div>
                </div>
            </div>

            <!-- Product 7 -->
            <div class="product-card" data-product-id="7" data-product-stock="10" data-product-available="true">
                <div class="product-image">
                    <div class="image-slider">
                        <img src="img/sawiro/jwel2.jpg" alt="Product 7" class="active" data-color="default">
                    </div>
                    <button class="heart-button" data-product-id="7">
                        <i class="fas fa-heart"></i>
                    </button>
                    <div class="product-actions">
                        <button class="quick-view" data-product-id="7">Quick View</button>
                        <button class="add-to-bag" data-product-id="7">Add To Bag</button>
                    </div>
                </div>
                <div class="product-info">
                    <div class="color-options">
                        <span class="color-circle active" style="background-color: #14220cff" title="Default" data-color="default"></span>
                    </div>
                    <h3 class="product-name">Test Product 7</h3>
                    <div class="product-price">$38</div>
                    <div class="product-availability" style="display: none;">In Stock</div>
                </div>
            </div>

            <!-- Product 8 - Low Stock -->
            <div class="product-card" data-product-id="8" data-product-stock="1" data-product-available="true">
                <div class="product-image">
                    <div class="image-slider">
                        <img src="img/sawiro/watch2.jpg" alt="Product 8" class="active" data-color="default">
                    </div>
                    <button class="heart-button" data-product-id="8">
                        <i class="fas fa-heart"></i>
                    </button>
                    <div class="product-actions">
                        <button class="quick-view" data-product-id="8">Quick View</button>
                        <button class="add-to-bag" data-product-id="8">Add To Bag</button>
                    </div>
                </div>
                <div class="product-info">
                    <div class="color-options">
                        <span class="color-circle active" style="background-color: #000;" title="Default" data-color="default"></span>
                    </div>
                    <h3 class="product-name">Test Product 8</h3>
                    <div class="product-price">$65</div>
                    <div class="product-availability" style="display: none;">In Stock</div>
                </div>
            </div>
        </div>
    </div>

    <script src="scripts/sold-out-manager.js"></script>
    <script>
        // Test functions
        function updateProductStock() {
            const productId = document.getElementById('product-select').value;
            const newStock = parseInt(document.getElementById('stock-input').value);
            
            if (window.soldOutManager) {
                window.soldOutManager.updateStock(productId, newStock);
                updateStatusDisplay();
            }
        }

        function setSoldOut() {
            const productId = document.getElementById('product-select').value;
            
            if (window.soldOutManager) {
                window.soldOutManager.setSoldOut(productId);
                updateStatusDisplay();
            }
        }

        function setAvailable() {
            const productId = document.getElementById('product-select').value;
            const stock = parseInt(document.getElementById('stock-input').value);
            
            if (window.soldOutManager) {
                window.soldOutManager.setAvailable(productId, stock);
                updateStatusDisplay();
            }
        }

        function resetAll() {
            // Reset all products to their original state
            const products = [
                {id: '1', stock: 5, available: true},
                {id: '2', stock: 0, available: false},
                {id: '3', stock: 3, available: true},
                {id: '4', stock: 8, available: true},
                {id: '5', stock: 0, available: false},
                {id: '6', stock: 2, available: true},
                {id: '7', stock: 10, available: true},
                {id: '8', stock: 1, available: true}
            ];

            products.forEach(product => {
                if (window.soldOutManager) {
                    if (product.available) {
                        window.soldOutManager.setAvailable(product.id, product.stock);
                    } else {
                        window.soldOutManager.setSoldOut(product.id);
                    }
                }
            });
            
            updateStatusDisplay();
        }

        function updateStatusDisplay() {
            if (!window.soldOutManager) return;

            const availableProducts = window.soldOutManager.getAvailableProducts();
            const soldOutProducts = window.soldOutManager.getSoldOutProducts();
            
            const lowStockProducts = availableProducts.filter(p => p.stock <= 2);
            
            document.getElementById('available-count').textContent = availableProducts.length;
            document.getElementById('sold-out-count').textContent = soldOutProducts.length;
            document.getElementById('low-stock-count').textContent = lowStockProducts.length;
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Wait for sold out manager to initialize
            setTimeout(() => {
                updateStatusDisplay();
            }, 100);
        });

        // Update stock input when product selection changes
        document.getElementById('product-select').addEventListener('change', function() {
            const productId = this.value;
            const card = document.querySelector(`[data-product-id="${productId}"]`);
            if (card) {
                const stock = card.getAttribute('data-product-stock');
                document.getElementById('stock-input').value = stock;
            }
        });
    </script>
</body>
</html>

