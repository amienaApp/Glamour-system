<!DOCTYPE html>
<html>
<head>
    <title>Quick View Test</title>
</head>
<body>
    <h1>Quick View Test</h1>
    <p>Testing embedded product data approach...</p>
    
    <script>
        // Test the embedded data approach
        console.log('Testing product data embedding...');
        
        // Simulate the embedded data
        window.productData = [
            {
                "_id": "test123",
                "name": "Test Product",
                "price": 99,
                "color": "#ff0000",
                "front_image": "test.jpg"
            }
        ];
        
        // Test the formatting function
        function formatProductForQuickView(product) {
            return {
                id: product._id,
                name: product.name,
                price: '$' + product.price,
                images: [{ src: '../' + product.front_image, color: product.color }],
                colors: [{ name: 'Red', value: product.color, hex: product.color }],
                sizes: ['XS', 'S', 'M', 'L', 'XL']
            };
        }
        
        // Test cache initialization
        const productDataCache = {};
        window.productData.forEach(product => {
            productDataCache[product._id] = formatProductForQuickView(product);
        });
        
        console.log('Product cache:', productDataCache);
        console.log('Test successful! Quick view should work with embedded data.');
    </script>
</body>
</html>
