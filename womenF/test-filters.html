<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filter Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ccc; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; }
        .result { margin-top: 10px; padding: 10px; background: #f5f5f5; }
    </style>
</head>
<body>
    <h1>Filter API Test</h1>
    
    <div class="test-section">
        <h2>Test Filter Products</h2>
        <button onclick="testFilterProducts()">Test Filter Products</button>
        <div id="filter-result" class="result"></div>
    </div>
    
    <div class="test-section">
        <h2>Test Get Filter Options</h2>
        <button onclick="testGetFilterOptions()">Test Get Filter Options</button>
        <div id="options-result" class="result"></div>
    </div>

    <script>
        function testFilterProducts() {
            const filterData = {
                action: 'filter_products',
                subcategory: '',
                sizes: ['s', 'm'],
                colors: ['black', 'blue'],
                price_ranges: ['0-25', '25-50'],
                categories: [],
                lengths: []
            };
            
            fetch('filter-api.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(filterData)
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('filter-result').innerHTML = 
                    `<h3>Response:</h3><pre>${JSON.stringify(data, null, 2)}</pre>`;
            })
            .catch(error => {
                document.getElementById('filter-result').innerHTML = 
                    `<h3>Error:</h3><pre>${error.message}</pre>`;
            });
        }
        
        function testGetFilterOptions() {
            const filterData = {
                action: 'get_filter_options'
            };
            
            fetch('filter-api.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(filterData)
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('options-result').innerHTML = 
                    `<h3>Response:</h3><pre>${JSON.stringify(data, null, 2)}</pre>`;
            })
            .catch(error => {
                document.getElementById('options-result').innerHTML = 
                    `<h3>Error:</h3><pre>${error.message}</pre>`;
            });
        }
    </script>
</body>
</html>
